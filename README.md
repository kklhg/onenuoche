一键挪车通知页面使用说明

一、功能概述
该页面是一款一键挪车通知工具，支持快捷生成挪车留言、获取当前地理位置、一键通知车主以及直接联系车主，同时具备页面加锁 / 解锁的安全防护功能，适用于需要便捷通知车主挪车的场景。
Fork后修改自己的token和电话号码。

二、核心功能使用说明
1. 基础挪车留言操作
（1）快捷填充留言
页面上方提供 4 个快捷按钮，点击即可快速填充预设的挪车留言内容：
「挡路」：填充 “你的车挡路了，请尽快挪一下，谢谢！”
「临停」：填充 “临时停靠一下，马上就走，抱歉！”
「没接」：填充 “电话打不通，看到请尽快挪车！”
「加急」：填充 “麻烦尽快挪车，有急事，非常感谢！”
（2）自定义留言
若快捷留言不符合需求，可直接在下方文本框中输入自定义的挪车留言内容，文本框支持手动编辑，无字数限制（视觉高度适配 120px）。
2. 地理位置获取
（1）自动获取位置
页面加载后会自动尝试获取当前设备的地理位置（需浏览器授权位置权限）：
授权成功：显示当前位置的纬度、经度信息，并展示「🗺️ 打开高德地图查看」按钮，可点击跳转地图查看具体位置；
授权失败 / 获取超时：显示对应错误提示（如 “你拒绝了位置权限请求，无法获取位置信息” 等）。
（2）位置权限说明
若首次拒绝位置权限，需手动在浏览器设置中开启 “位置” 权限后刷新页面重新获取；
获取位置超时时间为 10 秒，超时后仍可正常使用留言和通知功能。
3. 车主联系功能
（1）直接联系车主
点击页面下方「📞 直接联系车主」按钮，会触发设备的拨打电话功能，自动拨打预设的车主电话号码（当前为 130000000，可在代码中修改ownerPhone变量调整）。
支持场景：手机端浏览器、已开启电话权限的桌面端浏览器；
异常处理：若拨打电话失败，会弹出提示 “拨打电话失败，请手动拨打：130000000”。
（2）一键通知车主
点击「一键通知车主」按钮（获取位置后解除禁用），可触发通知逻辑（代码中未完整展示通知接口调用部分，需结合encodedToken（Base64 加密的 PushPlsh.plsh token）完善接口请求）。
encodedToken解码：当前值 “ADU4YTQ5Nzc0Yjc2NDhmN2IxMzk2YTgzMDNiOTkwYjI=” 解码后可得到真实 token，用于接口鉴权；
通知逻辑扩展：需补充接口请求代码，将留言内容、地理位置等参数传递给后端 / 通知接口，实现向车主推送挪车通知。
4. 页面加锁 / 解锁功能
（1）加锁操作
点击页面右上角「🔒 加锁」按钮，弹出密码输入框，输入预设密码（默认 123456，可修改LOCK_PASSWORD变量调整），点击「确认加锁」即可锁定页面：
加锁后页面会隐藏主内容，仅显示解锁密码框；
加锁状态会通过本地存储（LOCK_STATUS_KEY）持久化，刷新页面后仍保持加锁状态。
（2）解锁操作
页面处于加锁状态时，输入正确密码，点击「确认解锁」即可恢复页面访问权限：
密码错误会弹出提示 “密码错误，请重试”，并清空输入框；
解锁成功后会隐藏密码框，显示主功能页面。
（3）密码安全说明
该密码仅为前端本地验证，无后端校验，适用于简单的页面访问控制；
若需更高安全性，需结合后端接口实现密码验证。

三、代码关键配置项说明
变量名	作用	修改说明
LOCK_PASSWORD	页面加锁 / 解锁密码	替换为自定义密码（建议数字 + 字母组合）
LOCK_STATUS_KEY	本地存储加锁状态的 key	无需修改，仅用于标识存储字段
encodedToken	PushPlsh.plsh token（Base64 加密）	替换为实际的加密 token，用于通知接口鉴权
ownerPhone	车主电话号码	替换为实际需要联系的车主手机号
shortcut-btn的data-text属性	快捷留言内容	可新增 / 修改按钮的data-text值，调整快捷留言文案

四、使用环境要求
浏览器：支持 HTML5、Geolocation（地理位置）API 的现代浏览器（Chrome、Edge、Safari、Firefox 等）；
设备：
手机端：支持拨打电话功能的智能手机（iOS/Android）；
桌面端：可正常使用留言、位置、加锁功能，拨打电话功能需浏览器关联电话应用；
网络：获取位置、发送通知功能需联网。

五、常见问题解决
点击「直接联系车主」无反应？
检查设备是否支持拨打电话（如桌面端需安装电话应用并授权）；
确认浏览器未禁用 “电话” 相关权限。
无法获取位置信息？
检查浏览器位置权限是否开启；
确认设备 GPS / 网络定位功能已开启；
部分内网 / 无网络环境下无法获取位置，可忽略位置直接使用留言功能。
加锁后忘记密码？
方式 1：清空浏览器本地存储（找到page_lock_status字段删除，或清空对应域名的本地存储）；
方式 2：修改代码中LOCK_PASSWORD为新密码，刷新页面后输入新密码解锁。
通知车主功能无响应？
检查encodedToken是否有效，解码后确认 token 未过期；
补充完善通知接口的请求代码（如 POST 请求传递留言、位置、token 等参数）。

六、扩展建议
留言模板扩展：可新增更多快捷按钮，或支持用户自定义保存常用留言模板；
地图集成：将「打开高德地图查看」按钮链接替换为带经纬度的高德地图 URL（如https://amap.com/?lat=纬度&lng=经度），实现一键定位；
多车主支持：增加车主电话输入框，支持手动输入 / 选择联系的车主号码；
通知记录：添加本地存储功能，记录历史通知内容和时间，方便追溯；
密码重置：增加管理员密码重置功能，避免忘记密码无法解锁页面。
